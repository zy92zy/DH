{extend name='public/base' /}
{block name='content'}
{include file='public/content_header' /}
<section class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <!-- 表单头部 -->
                <div class="box-header with-border">
                    <div class="btn-group">
                        <a class="btn flat btn-sm btn-default BackButton">
                            <i class="fa fa-arrow-left"></i>
                            返回
                        </a>
                    </div>
                </div>
                <!-- 表单 -->
                <form id="dataForm" class="form-horizontal dataForm" action="" method="post"
                      enctype="multipart/form-data">
                    <!-- 表单字段区域 -->
                    <div class="box-body">
                        <div class="form-group">
                            <label for="username" class="col-sm-2 control-label">代理账号</label>
                            <div class="col-sm-10 col-md-4">
                                <input id="username" name="username" value="{$username}"
                                       placeholder="请输入账号" type="text" readonly  unselectable="on" class="form-control field-text">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="balance_type" class="col-sm-2 control-label">结算方式</label>
                            <div class="col-sm-10 col-md-4">
                                <select name="balance_type" id="balance_type" class="form-control field-select"
                                        data-placeholder="选择结算方式">
                                    <option value="">选择结算方式</option>
                                    <option value="1">微信</option>
                                    <option value="2">支付宝</option>
                                    <option value="3">银行卡</option>
                                    <option value="4">现金</option>
                                    <option value="5">其他</option>
                                </select>
                            </div>
                        </div>
                        <script>
                            $('#balance_type').select2();
                        </script>
                        <div class="form-group">
                            <label for="money" class="col-sm-2 control-label">结算金额</label>
                            <div class="col-sm-10 col-md-4">
                                <input id="money" name="money" value=""
                                       placeholder="请输入整数" type="number" class="form-control field-text">
                            </div>
                        </div>

                        <!-- 表单底部 -->
                        <div class="box-footer">
                            {:token()}
                            <div class="col-sm-2">
                            </div>
                            <div class="col-sm-10 col-md-4">
                                <div class="btn-group">
                                    <button type="submit" class="btn flat btn-info dataFormSubmit">
                                        提交
                                    </button>
                                </div>
                                <div class="btn-group">
                                    <button type="reset" class="btn flat btn-default dataFormReset">
                                        重置
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
<script>
    /** 表单验证 **/
    $('#dataForm').validate({
        rules: {
            'username': {
                required: true,
                rangelength: [5, 15],
            },
            'balance_type': {
                required: true,
                number: true,
            },
            'money': {
                required: true,
                number: true,
                rangelength: [1, 8],
            },
        },
        messages: {
            'username': {
                required: '请输入结算账号',
                rangelength: '结算账号只能是5-15位',
            },
            'balance_type': {
                required: '请选择结算方式',
                number: '结算方式错误',
            },
            'money': {
                required: '请输入结算金额',
                number: '结算金额只能是整数',
                rangelength: '结算金额只能1-8位数',
            },
        }
    });
</script>
{/block}